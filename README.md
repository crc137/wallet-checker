# TON Wallet Address Checker

## Проблема несовпадения адресов

При вычислении адреса из StateInit наблюдается несовпадение между исходным и вычисленным адресами:

- Исходный адрес: `EQDr1yCktbp69_8uYOcE44_3bK0qazthAS028rzJqFve6BZe`
- Вычисленный адрес: `EQDU2jn6O_6nITo00bjRCMoKUz7z8VYmDhhzj5P1aW-N6h9Q`

## Причины несовпадения

После анализа адресов выявлены следующие факты:

1. Оба адреса имеют валидный формат и находятся в workchain 0
2. Хеши адресов полностью различаются:
   - Хеш исходного адреса: `ebd720a4b5ba7af7ff2e60e704e38ff76cad2a6b3b61012d36f2bcc9a85bdee8`
   - Хеш вычисленного адреса: `d4da39fa3bfea7213a34d1b8d108ca0a533ef3f156260e18738f93f5696f8dea`

## Возможные причины несовпадения

1. **Изменение данных контракта после деплоя**
   - Контракт мог быть обновлен после деплоя, что привело к изменению StateInit
   - Адрес контракта остался прежним, но его текущее состояние отличается от исходного

2. **Нестандартный формат StateInit при деплое**
   - При деплое контракта мог использоваться нестандартный формат StateInit
   - Некоторые контракты используют специальные параметры при инициализации

3. **Проблемы с парсингом данных из API**
   - Формат данных, возвращаемых API, может не соответствовать ожидаемому формату для создания Cell
   - Данные в формате x{...} требуют специальной обработки перед использованием

4. **Контракт был деплоен с использованием специального метода**
   - Некоторые контракты деплоятся с использованием специальных методов, которые могут влиять на итоговый адрес

## Решение

Для корректного вычисления адреса из StateInit необходимо:

1. Получить оригинальный StateInit, использованный при деплое контракта
2. Правильно преобразовать данные из формата API в Cell объекты
3. Учесть возможные специальные параметры, использованные при деплое

Если контракт был обновлен после деплоя, то вычислить исходный адрес из текущего состояния может быть невозможно.

## Инструменты для проверки

В репозитории представлены следующие инструменты:

- `wallet-checker.js` - основной скрипт для проверки кошелька и вычисления адреса из StateInit
- `tonweb-checker.js` - скрипт для проверки адреса с использованием TonWeb
- `ton-core-checker.js` - скрипт для вычисления адреса с использованием @ton/core
- `address-checker.js` - скрипт для сравнения форматов адресов

## Использование

```bash
# Проверка кошелька
node wallet-checker.js EQDr1yCktbp69_8uYOcE44_3bK0qazthAS028rzJqFve6BZe

# Проверка адреса с использованием TonWeb
node tonweb-checker.js EQDr1yCktbp69_8uYOcE44_3bK0qazthAS028rzJqFve6BZe

# Вычисление адреса с использованием @ton/core
node ton-core-checker.js EQDr1yCktbp69_8uYOcE44_3bK0qazthAS028rzJqFve6BZe

# Сравнение адресов
node address-checker.js EQDr1yCktbp69_8uYOcE44_3bK0qazthAS028rzJqFve6BZe EQDU2jn6O_6nITo00bjRCMoKUz7z8VYmDhhzj5P1aW-N6h9Q
``` 